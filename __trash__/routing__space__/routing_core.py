(moved from src/routing /routing_core.py)
